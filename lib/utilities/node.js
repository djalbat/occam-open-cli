'use strict';

function findNodeByClass(node, Class) {
  var foundNode = null;

  if (node instanceof Class) {
    foundNode = node;
  } else {
    var nodeNonTerminalNode = node.isNonTerminalNode();

    if (nodeNonTerminalNode) {
      var nonTerminalNode = node,
          ///
      childNodes = nonTerminalNode.getChildNodes();

      childNodes.some(function (childNode) {
        foundNode = findNodeByClass(childNode, Class);

        if (foundNode !== null) {
          return true;
        }
      });
    }
  }

  return foundNode;
}

function findNodesByClass(node, Class) {
  var foundNodes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];

  if (node instanceof Class) {
    var foundNode = node; ///

    foundNodes.push(foundNode);
  } else {
    var nodeNonTerminalNode = node.isNonTerminalNode();

    if (nodeNonTerminalNode) {
      var nonTerminalNode = node,
          ///
      childNodes = nonTerminalNode.getChildNodes();

      childNodes.forEach(function (childNode) {
        findNodesByClass(childNode, Class, foundNodes);
      });
    }
  }

  return foundNodes;
}

function findTerminalNodes(node) {
  var foundTerminalNodes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];

  var nodeTerminalNode = node.isTerminalNode();

  if (nodeTerminalNode) {
    var foundTerminalNode = node; ///

    foundTerminalNodes.push(foundTerminalNode);
  } else {
    var nodeNonTerminalNode = node.isNonTerminalNode();

    if (nodeNonTerminalNode) {
      var nonTerminalNode = node,
          ///
      childNodes = nonTerminalNode.getChildNodes();

      childNodes.forEach(function (childNode) {
        findTerminalNodes(childNode, foundTerminalNodes);
      });
    }
  }

  return foundTerminalNodes;
}

module.exports = {
  findNodeByClass: findNodeByClass,
  findNodesByClass: findNodesByClass,
  findTerminalNodes: findTerminalNodes
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi91dGlsaXRpZXMvbm9kZS5qcyJdLCJuYW1lcyI6WyJmaW5kTm9kZUJ5Q2xhc3MiLCJub2RlIiwiQ2xhc3MiLCJmb3VuZE5vZGUiLCJub2RlTm9uVGVybWluYWxOb2RlIiwiaXNOb25UZXJtaW5hbE5vZGUiLCJub25UZXJtaW5hbE5vZGUiLCJjaGlsZE5vZGVzIiwiZ2V0Q2hpbGROb2RlcyIsInNvbWUiLCJjaGlsZE5vZGUiLCJmaW5kTm9kZXNCeUNsYXNzIiwiZm91bmROb2RlcyIsInB1c2giLCJmb3JFYWNoIiwiZmluZFRlcm1pbmFsTm9kZXMiLCJmb3VuZFRlcm1pbmFsTm9kZXMiLCJub2RlVGVybWluYWxOb2RlIiwiaXNUZXJtaW5hbE5vZGUiLCJmb3VuZFRlcm1pbmFsTm9kZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLFNBQVNBLGVBQVQsQ0FBeUJDLElBQXpCLEVBQStCQyxLQUEvQixFQUFzQztBQUNwQyxNQUFJQyxZQUFZLElBQWhCOztBQUVBLE1BQUlGLGdCQUFnQkMsS0FBcEIsRUFBMkI7QUFDekJDLGdCQUFZRixJQUFaO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsUUFBTUcsc0JBQXNCSCxLQUFLSSxpQkFBTCxFQUE1Qjs7QUFFQSxRQUFJRCxtQkFBSixFQUF5QjtBQUN2QixVQUFNRSxrQkFBa0JMLElBQXhCO0FBQUEsVUFBOEI7QUFDeEJNLG1CQUFhRCxnQkFBZ0JFLGFBQWhCLEVBRG5COztBQUdBRCxpQkFBV0UsSUFBWCxDQUFnQixVQUFTQyxTQUFULEVBQW9CO0FBQ2xDUCxvQkFBWUgsZ0JBQWdCVSxTQUFoQixFQUEyQlIsS0FBM0IsQ0FBWjs7QUFFQSxZQUFJQyxjQUFjLElBQWxCLEVBQXdCO0FBQ3RCLGlCQUFPLElBQVA7QUFDRDtBQUNGLE9BTkQ7QUFPRDtBQUNGOztBQUVELFNBQU9BLFNBQVA7QUFDRDs7QUFFRCxTQUFTUSxnQkFBVCxDQUEwQlYsSUFBMUIsRUFBZ0NDLEtBQWhDLEVBQXdEO0FBQUEsTUFBakJVLFVBQWlCLHVFQUFKLEVBQUk7O0FBQ3RELE1BQUlYLGdCQUFnQkMsS0FBcEIsRUFBMkI7QUFDekIsUUFBTUMsWUFBWUYsSUFBbEIsQ0FEeUIsQ0FDRDs7QUFFeEJXLGVBQVdDLElBQVgsQ0FBZ0JWLFNBQWhCO0FBQ0QsR0FKRCxNQUlPO0FBQ0wsUUFBTUMsc0JBQXNCSCxLQUFLSSxpQkFBTCxFQUE1Qjs7QUFFQSxRQUFJRCxtQkFBSixFQUF5QjtBQUN2QixVQUFNRSxrQkFBa0JMLElBQXhCO0FBQUEsVUFBOEI7QUFDeEJNLG1CQUFhRCxnQkFBZ0JFLGFBQWhCLEVBRG5COztBQUdBRCxpQkFBV08sT0FBWCxDQUFtQixVQUFTSixTQUFULEVBQW9CO0FBQ3JDQyx5QkFBaUJELFNBQWpCLEVBQTRCUixLQUE1QixFQUFtQ1UsVUFBbkM7QUFDRCxPQUZEO0FBR0Q7QUFDRjs7QUFFRCxTQUFPQSxVQUFQO0FBQ0Q7O0FBRUQsU0FBU0csaUJBQVQsQ0FBMkJkLElBQTNCLEVBQTBEO0FBQUEsTUFBekJlLGtCQUF5Qix1RUFBSixFQUFJOztBQUN4RCxNQUFNQyxtQkFBbUJoQixLQUFLaUIsY0FBTCxFQUF6Qjs7QUFFQSxNQUFJRCxnQkFBSixFQUFzQjtBQUNwQixRQUFNRSxvQkFBb0JsQixJQUExQixDQURvQixDQUNZOztBQUVoQ2UsdUJBQW1CSCxJQUFuQixDQUF3Qk0saUJBQXhCO0FBQ0QsR0FKRCxNQUlPO0FBQ0wsUUFBTWYsc0JBQXNCSCxLQUFLSSxpQkFBTCxFQUE1Qjs7QUFFQSxRQUFJRCxtQkFBSixFQUF5QjtBQUN2QixVQUFNRSxrQkFBa0JMLElBQXhCO0FBQUEsVUFBOEI7QUFDeEJNLG1CQUFhRCxnQkFBZ0JFLGFBQWhCLEVBRG5COztBQUdBRCxpQkFBV08sT0FBWCxDQUFtQixVQUFTSixTQUFULEVBQW9CO0FBQ3JDSywwQkFBa0JMLFNBQWxCLEVBQTZCTSxrQkFBN0I7QUFDRCxPQUZEO0FBR0Q7QUFDRjs7QUFFRCxTQUFPQSxrQkFBUDtBQUNEOztBQUVESSxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZyQixtQkFBaUJBLGVBREY7QUFFZlcsb0JBQWtCQSxnQkFGSDtBQUdmSSxxQkFBbUJBO0FBSEosQ0FBakIiLCJmaWxlIjoibm9kZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gZmluZE5vZGVCeUNsYXNzKG5vZGUsIENsYXNzKSB7XG4gIGxldCBmb3VuZE5vZGUgPSBudWxsO1xuXG4gIGlmIChub2RlIGluc3RhbmNlb2YgQ2xhc3MpIHtcbiAgICBmb3VuZE5vZGUgPSBub2RlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG5vZGVOb25UZXJtaW5hbE5vZGUgPSBub2RlLmlzTm9uVGVybWluYWxOb2RlKCk7XG5cbiAgICBpZiAobm9kZU5vblRlcm1pbmFsTm9kZSkge1xuICAgICAgY29uc3Qgbm9uVGVybWluYWxOb2RlID0gbm9kZSwgLy8vXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gbm9uVGVybWluYWxOb2RlLmdldENoaWxkTm9kZXMoKTtcblxuICAgICAgY2hpbGROb2Rlcy5zb21lKGZ1bmN0aW9uKGNoaWxkTm9kZSkge1xuICAgICAgICBmb3VuZE5vZGUgPSBmaW5kTm9kZUJ5Q2xhc3MoY2hpbGROb2RlLCBDbGFzcyk7XG5cbiAgICAgICAgaWYgKGZvdW5kTm9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm91bmROb2RlO1xufVxuXG5mdW5jdGlvbiBmaW5kTm9kZXNCeUNsYXNzKG5vZGUsIENsYXNzLCBmb3VuZE5vZGVzID0gW10pIHtcbiAgaWYgKG5vZGUgaW5zdGFuY2VvZiBDbGFzcykge1xuICAgIGNvbnN0IGZvdW5kTm9kZSA9IG5vZGU7IC8vL1xuXG4gICAgZm91bmROb2Rlcy5wdXNoKGZvdW5kTm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgbm9kZU5vblRlcm1pbmFsTm9kZSA9IG5vZGUuaXNOb25UZXJtaW5hbE5vZGUoKTtcblxuICAgIGlmIChub2RlTm9uVGVybWluYWxOb2RlKSB7XG4gICAgICBjb25zdCBub25UZXJtaW5hbE5vZGUgPSBub2RlLCAvLy9cbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSBub25UZXJtaW5hbE5vZGUuZ2V0Q2hpbGROb2RlcygpO1xuXG4gICAgICBjaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24oY2hpbGROb2RlKSB7XG4gICAgICAgIGZpbmROb2Rlc0J5Q2xhc3MoY2hpbGROb2RlLCBDbGFzcywgZm91bmROb2Rlcyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZm91bmROb2Rlcztcbn1cblxuZnVuY3Rpb24gZmluZFRlcm1pbmFsTm9kZXMobm9kZSwgZm91bmRUZXJtaW5hbE5vZGVzID0gW10pIHtcbiAgY29uc3Qgbm9kZVRlcm1pbmFsTm9kZSA9IG5vZGUuaXNUZXJtaW5hbE5vZGUoKTtcblxuICBpZiAobm9kZVRlcm1pbmFsTm9kZSkge1xuICAgIGNvbnN0IGZvdW5kVGVybWluYWxOb2RlID0gbm9kZTsgLy8vXG5cbiAgICBmb3VuZFRlcm1pbmFsTm9kZXMucHVzaChmb3VuZFRlcm1pbmFsTm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgbm9kZU5vblRlcm1pbmFsTm9kZSA9IG5vZGUuaXNOb25UZXJtaW5hbE5vZGUoKTtcblxuICAgIGlmIChub2RlTm9uVGVybWluYWxOb2RlKSB7XG4gICAgICBjb25zdCBub25UZXJtaW5hbE5vZGUgPSBub2RlLCAvLy9cbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSBub25UZXJtaW5hbE5vZGUuZ2V0Q2hpbGROb2RlcygpO1xuXG4gICAgICBjaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24oY2hpbGROb2RlKSB7XG4gICAgICAgIGZpbmRUZXJtaW5hbE5vZGVzKGNoaWxkTm9kZSwgZm91bmRUZXJtaW5hbE5vZGVzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmb3VuZFRlcm1pbmFsTm9kZXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBmaW5kTm9kZUJ5Q2xhc3M6IGZpbmROb2RlQnlDbGFzcyxcbiAgZmluZE5vZGVzQnlDbGFzczogZmluZE5vZGVzQnlDbGFzcyxcbiAgZmluZFRlcm1pbmFsTm9kZXM6IGZpbmRUZXJtaW5hbE5vZGVzXG59O1xuIl19