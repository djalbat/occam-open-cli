"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return updateMetaJSONFileVersionOperation;
    }
});
const _occamfilesystem = require("occam-file-system");
const _occammodel = require("occam-model");
const { loadFile, saveFile } = _occamfilesystem.fileSystemUtilities, { META_JSON_FILE_NAME } = _occammodel.fileNames, { updateMetaJSONFileVersion } = _occammodel.metaJSONUtilities;
function updateMetaJSONFileVersionOperation(proceed, abort, context) {
    const { success } = context;
    if (success) {
        const { version, releaseName } = context, metaJSONFilePath = `${releaseName}/${META_JSON_FILE_NAME}`, projectsDirectoryPath = process.cwd(), metaJSONFile = loadFile(metaJSONFilePath, projectsDirectoryPath);
        updateMetaJSONFileVersion(metaJSONFile, version);
        saveFile(metaJSONFile, projectsDirectoryPath);
    }
    proceed();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb24vdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgZmlsZVN5c3RlbVV0aWxpdGllcyB9IGZyb20gXCJvY2NhbS1maWxlLXN5c3RlbVwiO1xuaW1wb3J0IHsgZmlsZU5hbWVzLCBtZXRhSlNPTlV0aWxpdGllcyB9IGZyb20gXCJvY2NhbS1tb2RlbFwiO1xuXG5jb25zdCB7IGxvYWRGaWxlLCBzYXZlRmlsZSB9ID0gZmlsZVN5c3RlbVV0aWxpdGllcyxcbiAgICAgIHsgTUVUQV9KU09OX0ZJTEVfTkFNRSB9ID0gZmlsZU5hbWVzLFxuICAgICAgeyB1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uIH0gPSBtZXRhSlNPTlV0aWxpdGllc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uT3BlcmF0aW9uKHByb2NlZWQsIGFib3J0LCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgc3VjY2VzcyB9ID0gY29udGV4dDtcblxuICBpZiAoc3VjY2Vzcykge1xuICAgIGNvbnN0IHsgdmVyc2lvbiwgcmVsZWFzZU5hbWUgfSA9IGNvbnRleHQsXG4gICAgICAgICAgbWV0YUpTT05GaWxlUGF0aCA9IGAke3JlbGVhc2VOYW1lfS8ke01FVEFfSlNPTl9GSUxFX05BTUV9YCxcbiAgICAgICAgICBwcm9qZWN0c0RpcmVjdG9yeVBhdGggPSBwcm9jZXNzLmN3ZCgpLCAvLy9cbiAgICAgICAgICBtZXRhSlNPTkZpbGUgPSBsb2FkRmlsZShtZXRhSlNPTkZpbGVQYXRoLCBwcm9qZWN0c0RpcmVjdG9yeVBhdGgpO1xuXG4gICAgdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbihtZXRhSlNPTkZpbGUsIHZlcnNpb24pO1xuXG4gICAgc2F2ZUZpbGUobWV0YUpTT05GaWxlLCBwcm9qZWN0c0RpcmVjdG9yeVBhdGgpO1xuICB9XG5cbiAgcHJvY2VlZCgpO1xufVxuIl0sIm5hbWVzIjpbInVwZGF0ZU1ldGFKU09ORmlsZVZlcnNpb25PcGVyYXRpb24iLCJsb2FkRmlsZSIsInNhdmVGaWxlIiwiZmlsZVN5c3RlbVV0aWxpdGllcyIsIk1FVEFfSlNPTl9GSUxFX05BTUUiLCJmaWxlTmFtZXMiLCJ1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uIiwibWV0YUpTT05VdGlsaXRpZXMiLCJwcm9jZWVkIiwiYWJvcnQiLCJjb250ZXh0Iiwic3VjY2VzcyIsInZlcnNpb24iLCJyZWxlYXNlTmFtZSIsIm1ldGFKU09ORmlsZVBhdGgiLCJwcm9qZWN0c0RpcmVjdG9yeVBhdGgiLCJwcm9jZXNzIiwiY3dkIiwibWV0YUpTT05GaWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFTQTs7O2VBQXdCQTs7O2lDQVBZOzRCQUNTO0FBRTdDLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUUsR0FBR0Msb0NBQW1CLEVBQzVDLEVBQUVDLG1CQUFtQixFQUFFLEdBQUdDLHFCQUFTLEVBQ25DLEVBQUVDLHlCQUF5QixFQUFFLEdBQUdDLDZCQUFpQjtBQUV4QyxTQUFTUCxtQ0FBbUNRLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPO0lBQ2hGLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdEO0lBRXBCLElBQUlDLFNBQVM7UUFDWCxNQUFNLEVBQUVDLE9BQU8sRUFBRUMsV0FBVyxFQUFFLEdBQUdILFNBQzNCSSxtQkFBbUIsR0FBR0QsWUFBWSxDQUFDLEVBQUVULHFCQUFxQixFQUMxRFcsd0JBQXdCQyxRQUFRQyxHQUFHLElBQ25DQyxlQUFlakIsU0FBU2Esa0JBQWtCQztRQUVoRFQsMEJBQTBCWSxjQUFjTjtRQUV4Q1YsU0FBU2dCLGNBQWNIO0lBQ3pCO0lBRUFQO0FBQ0YifQ==