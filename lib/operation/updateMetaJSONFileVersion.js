"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return updateMetaJSONFileVersionOperation;
    }
});
var _occamfilesystem = require("occam-file-system");
var _occammodel = require("occam-model");
var loadFile = _occamfilesystem.fileSystemUtilities.loadFile, saveFile = _occamfilesystem.fileSystemUtilities.saveFile, META_JSON_FILE_NAME = _occammodel.fileNames.META_JSON_FILE_NAME, updateMetaJSONFileVersion = _occammodel.metaJSONUtilities.updateMetaJSONFileVersion;
function updateMetaJSONFileVersionOperation(proceed, abort, context) {
    var success = context.success;
    if (success) {
        var version = context.version, releaseName = context.releaseName, metaJSONFilePath = "".concat(releaseName, "/").concat(META_JSON_FILE_NAME), projectsDirectoryPath = process.cwd(), metaJSONFile = loadFile(metaJSONFilePath, projectsDirectoryPath);
        updateMetaJSONFileVersion(metaJSONFile, version);
        saveFile(metaJSONFile, projectsDirectoryPath);
    }
    proceed();
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9vcGVyYXRpb24vdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgZmlsZVN5c3RlbVV0aWxpdGllcyB9IGZyb20gXCJvY2NhbS1maWxlLXN5c3RlbVwiO1xuaW1wb3J0IHsgZmlsZU5hbWVzLCBtZXRhSlNPTlV0aWxpdGllcyB9IGZyb20gXCJvY2NhbS1tb2RlbFwiO1xuXG5jb25zdCB7IGxvYWRGaWxlLCBzYXZlRmlsZSB9ID0gZmlsZVN5c3RlbVV0aWxpdGllcyxcbiAgICAgIHsgTUVUQV9KU09OX0ZJTEVfTkFNRSB9ID0gZmlsZU5hbWVzLFxuICAgICAgeyB1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uIH0gPSBtZXRhSlNPTlV0aWxpdGllc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uT3BlcmF0aW9uKHByb2NlZWQsIGFib3J0LCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgc3VjY2VzcyB9ID0gY29udGV4dDtcblxuICBpZiAoc3VjY2Vzcykge1xuICAgIGNvbnN0IHsgdmVyc2lvbiwgcmVsZWFzZU5hbWUgfSA9IGNvbnRleHQsXG4gICAgICAgICAgbWV0YUpTT05GaWxlUGF0aCA9IGAke3JlbGVhc2VOYW1lfS8ke01FVEFfSlNPTl9GSUxFX05BTUV9YCxcbiAgICAgICAgICBwcm9qZWN0c0RpcmVjdG9yeVBhdGggPSBwcm9jZXNzLmN3ZCgpLCAvLy9cbiAgICAgICAgICBtZXRhSlNPTkZpbGUgPSBsb2FkRmlsZShtZXRhSlNPTkZpbGVQYXRoLCBwcm9qZWN0c0RpcmVjdG9yeVBhdGgpO1xuXG4gICAgdXBkYXRlTWV0YUpTT05GaWxlVmVyc2lvbihtZXRhSlNPTkZpbGUsIHZlcnNpb24pO1xuXG4gICAgc2F2ZUZpbGUobWV0YUpTT05GaWxlLCBwcm9qZWN0c0RpcmVjdG9yeVBhdGgpO1xuICB9XG5cbiAgcHJvY2VlZCgpO1xufVxuIl0sIm5hbWVzIjpbInVwZGF0ZU1ldGFKU09ORmlsZVZlcnNpb25PcGVyYXRpb24iLCJsb2FkRmlsZSIsImZpbGVTeXN0ZW1VdGlsaXRpZXMiLCJzYXZlRmlsZSIsIk1FVEFfSlNPTl9GSUxFX05BTUUiLCJmaWxlTmFtZXMiLCJ1cGRhdGVNZXRhSlNPTkZpbGVWZXJzaW9uIiwibWV0YUpTT05VdGlsaXRpZXMiLCJwcm9jZWVkIiwiYWJvcnQiLCJjb250ZXh0Iiwic3VjY2VzcyIsInZlcnNpb24iLCJyZWxlYXNlTmFtZSIsIm1ldGFKU09ORmlsZVBhdGgiLCJwcm9qZWN0c0RpcmVjdG9yeVBhdGgiLCJwcm9jZXNzIiwiY3dkIiwibWV0YUpTT05GaWxlIl0sIm1hcHBpbmdzIjoiQUFBQTs7OzsrQkFTQTs7O2VBQXdCQTs7OytCQVBZOzBCQUNTO0FBRTdDLElBQVFDLFdBQXVCQyxvQ0FBbUIsQ0FBMUNELFVBQVVFLFdBQWFELG9DQUFtQixDQUFoQ0MsVUFDWixBQUFFQyxzQkFBd0JDLHFCQUFTLENBQWpDRCxxQkFDRixBQUFFRSw0QkFBOEJDLDZCQUFpQixDQUEvQ0Q7QUFFTyxTQUFTTixtQ0FBbUNRLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPO0lBQ2hGLElBQU0sQUFBRUMsVUFBWUQsUUFBWkM7SUFFUixJQUFJQSxTQUFTO1FBQ1gsSUFBUUMsVUFBeUJGLFFBQXpCRSxTQUFTQyxjQUFnQkgsUUFBaEJHLGFBQ1hDLG1CQUFtQixBQUFDLEdBQWlCVixPQUFmUyxhQUFZLEtBQXVCLE9BQXBCVCxzQkFDckNXLHdCQUF3QkMsUUFBUUMsR0FBRyxJQUNuQ0MsZUFBZWpCLFNBQVNhLGtCQUFrQkM7UUFFaERULDBCQUEwQlksY0FBY047UUFFeENULFNBQVNlLGNBQWNIO0lBQ3pCO0lBRUFQO0FBQ0YifQ==