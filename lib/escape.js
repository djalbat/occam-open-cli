'use strict';

var constants = require('./constants');

var _process = process,
    stdin = _process.stdin,
    ESCAPE_KEY = constants.ESCAPE_KEY;


function escape() {
  if (stdin.setRawMode) {
    var rawMode = true,
        encoding = 'utf8';

    stdin.setRawMode(rawMode);
    stdin.resume();
    stdin.setEncoding(encoding);

    stdin.on('data', function (key) {
      console.log(key);

      if (key === ESCAPE_KEY) {
        process.exit();
      }
    });
  }
}

module.exports = escape;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2VzNi9lc2NhcGUuanMiXSwibmFtZXMiOlsiY29uc3RhbnRzIiwicmVxdWlyZSIsInByb2Nlc3MiLCJzdGRpbiIsIkVTQ0FQRV9LRVkiLCJlc2NhcGUiLCJzZXRSYXdNb2RlIiwicmF3TW9kZSIsImVuY29kaW5nIiwicmVzdW1lIiwic2V0RW5jb2RpbmciLCJvbiIsImtleSIsImNvbnNvbGUiLCJsb2ciLCJleGl0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsWUFBWUMsUUFBUSxhQUFSLENBQWxCOztlQUVrQkMsTztJQUFWQyxLLFlBQUFBLEs7SUFDQUMsVSxHQUFlSixTLENBQWZJLFU7OztBQUVSLFNBQVNDLE1BQVQsR0FBa0I7QUFDaEIsTUFBSUYsTUFBTUcsVUFBVixFQUFzQjtBQUNwQixRQUFNQyxVQUFVLElBQWhCO0FBQUEsUUFDTUMsV0FBVyxNQURqQjs7QUFHQUwsVUFBTUcsVUFBTixDQUFpQkMsT0FBakI7QUFDQUosVUFBTU0sTUFBTjtBQUNBTixVQUFNTyxXQUFOLENBQWtCRixRQUFsQjs7QUFFQUwsVUFBTVEsRUFBTixDQUFTLE1BQVQsRUFBaUIsVUFBU0MsR0FBVCxFQUFjO0FBQzdCQyxjQUFRQyxHQUFSLENBQVlGLEdBQVo7O0FBRUEsVUFBSUEsUUFBUVIsVUFBWixFQUF3QjtBQUN0QkYsZ0JBQVFhLElBQVI7QUFDRDtBQUNGLEtBTkQ7QUFPRDtBQUNGOztBQUVEQyxPQUFPQyxPQUFQLEdBQWlCWixNQUFqQiIsImZpbGUiOiJlc2NhcGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGNvbnN0YW50cyA9IHJlcXVpcmUoJy4vY29uc3RhbnRzJyk7XG5cbmNvbnN0IHsgc3RkaW4gfSA9IHByb2Nlc3MsXG4gICAgICB7IEVTQ0FQRV9LRVkgfSA9IGNvbnN0YW50cztcblxuZnVuY3Rpb24gZXNjYXBlKCkge1xuICBpZiAoc3RkaW4uc2V0UmF3TW9kZSkge1xuICAgIGNvbnN0IHJhd01vZGUgPSB0cnVlLFxuICAgICAgICAgIGVuY29kaW5nID0gJ3V0ZjgnO1xuXG4gICAgc3RkaW4uc2V0UmF3TW9kZShyYXdNb2RlKTtcbiAgICBzdGRpbi5yZXN1bWUoKTtcbiAgICBzdGRpbi5zZXRFbmNvZGluZyhlbmNvZGluZyk7XG5cbiAgICBzdGRpbi5vbignZGF0YScsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgY29uc29sZS5sb2coa2V5KVxuICAgICAgXG4gICAgICBpZiAoa2V5ID09PSBFU0NBUEVfS0VZKSB7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXNjYXBlO1xuIl19