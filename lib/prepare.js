"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return prepare;
    }
});
const _changeDirectory = /*#__PURE__*/ _interop_require_default(require("./changeDirectory"));
const _defaults = require("./defaults");
const _commands = require("./commands");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function prepare(command, argument, options, main) {
    const { help = _defaults.DEFAULT_HELP, version = _defaults.DEFAULT_VERSION } = options;
    if (false) {
    ///
    } else if (help) {
        command = _commands.HELP_COMMAND;
    } else if (version) {
        command = _commands.VERSION_COMMAND;
    }
    if (command === _commands.HELP_COMMAND || command === _commands.VERSION_COMMAND || command === _commands.INITIALISE_COMMAND) {
        main(command, argument, options);
        return;
    }
    const directoryName = (0, _changeDirectory.default)();
    if (directoryName !== null) {
        argument = directoryName; ///
    }
    if (argument === null) {
        if (command !== _commands.SIGN_IN_COMMAND && command !== _commands.SIGN_OUT_COMMAND && command !== _commands.SET_OPTIONS_COMMAND && command !== _commands.SET_SHELL_COMMANDS_COMMAND) {
            argument = command; ///
            command = _commands.OPEN_COMMAND;
        }
    }
    if (command === null) {
        command = _commands.OPEN_COMMAND;
    }
    main(command, argument, options);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wcmVwYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgY2hhbmdlRGlyZWN0b3J5IGZyb20gXCIuL2NoYW5nZURpcmVjdG9yeVwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX0hFTFAsIERFRkFVTFRfVkVSU0lPTiB9IGZyb20gXCIuL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyBIRUxQX0NPTU1BTkQsXG4gICAgICAgICBPUEVOX0NPTU1BTkQsXG4gICAgICAgICBWRVJTSU9OX0NPTU1BTkQsXG4gICAgICAgICBTSUdOX0lOX0NPTU1BTkQsXG4gICAgICAgICBTSUdOX09VVF9DT01NQU5ELFxuICAgICAgICAgSU5JVElBTElTRV9DT01NQU5ELFxuICAgICAgICAgU0VUX09QVElPTlNfQ09NTUFORCxcbiAgICAgICAgIFNFVF9TSEVMTF9DT01NQU5EU19DT01NQU5EIH0gZnJvbSBcIi4vY29tbWFuZHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGFyZShjb21tYW5kLCBhcmd1bWVudCwgb3B0aW9ucywgbWFpbikge1xuICBjb25zdCB7IGhlbHAgPSBERUZBVUxUX0hFTFAsIHZlcnNpb24gPSBERUZBVUxUX1ZFUlNJT04gfSA9IG9wdGlvbnM7XG5cbiAgaWYgKGZhbHNlKSB7XG4gICAgLy8vXG4gIH0gZWxzZSBpZiAoaGVscCkge1xuICAgIGNvbW1hbmQgPSBIRUxQX0NPTU1BTkQ7XG4gIH0gZWxzZSBpZiAodmVyc2lvbikge1xuICAgIGNvbW1hbmQgPSBWRVJTSU9OX0NPTU1BTkQ7XG4gIH1cblxuICBpZiAoKGNvbW1hbmQgPT09IEhFTFBfQ09NTUFORCkgfHxcbiAgICAgIChjb21tYW5kID09PSBWRVJTSU9OX0NPTU1BTkQpIHx8XG4gICAgICAoY29tbWFuZCA9PT0gSU5JVElBTElTRV9DT01NQU5EKSkge1xuXG4gICAgbWFpbihjb21tYW5kLCBhcmd1bWVudCwgb3B0aW9ucyk7XG5cbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBkaXJlY3RvcnlOYW1lID0gY2hhbmdlRGlyZWN0b3J5KCk7XG5cbiAgaWYgKGRpcmVjdG9yeU5hbWUgIT09IG51bGwpIHtcbiAgICBhcmd1bWVudCA9IGRpcmVjdG9yeU5hbWU7IC8vL1xuICB9XG5cbiAgaWYgKGFyZ3VtZW50ID09PSBudWxsKSB7XG4gICAgaWYgKChjb21tYW5kICE9PSBTSUdOX0lOX0NPTU1BTkQpICYmXG4gICAgICAgIChjb21tYW5kICE9PSBTSUdOX09VVF9DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gU0VUX09QVElPTlNfQ09NTUFORCkgJiZcbiAgICAgICAgKGNvbW1hbmQgIT09IFNFVF9TSEVMTF9DT01NQU5EU19DT01NQU5EKSkge1xuXG4gICAgICBhcmd1bWVudCA9IGNvbW1hbmQ7IC8vL1xuXG4gICAgICBjb21tYW5kID0gT1BFTl9DT01NQU5EO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjb21tYW5kID09PSBudWxsKSB7XG4gICAgY29tbWFuZCA9IE9QRU5fQ09NTUFORDtcbiAgfVxuXG4gIG1haW4oY29tbWFuZCwgYXJndW1lbnQsIG9wdGlvbnMpO1xufVxuIl0sIm5hbWVzIjpbInByZXBhcmUiLCJjb21tYW5kIiwiYXJndW1lbnQiLCJvcHRpb25zIiwibWFpbiIsImhlbHAiLCJERUZBVUxUX0hFTFAiLCJ2ZXJzaW9uIiwiREVGQVVMVF9WRVJTSU9OIiwiSEVMUF9DT01NQU5EIiwiVkVSU0lPTl9DT01NQU5EIiwiSU5JVElBTElTRV9DT01NQU5EIiwiZGlyZWN0b3J5TmFtZSIsImNoYW5nZURpcmVjdG9yeSIsIlNJR05fSU5fQ09NTUFORCIsIlNJR05fT1VUX0NPTU1BTkQiLCJTRVRfT1BUSU9OU19DT01NQU5EIiwiU0VUX1NIRUxMX0NPTU1BTkRTX0NPTU1BTkQiLCJPUEVOX0NPTU1BTkQiXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQWNBOzs7ZUFBd0JBOzs7d0VBWkk7MEJBRWtCOzBCQVFIOzs7Ozs7QUFFNUIsU0FBU0EsUUFBUUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsSUFBSTtJQUM5RCxNQUFNLEVBQUVDLE9BQU9DLHNCQUFZLEVBQUVDLFVBQVVDLHlCQUFlLEVBQUUsR0FBR0w7SUFFM0QsSUFBSSxPQUFPO0lBQ1QsR0FBRztJQUNMLE9BQU8sSUFBSUUsTUFBTTtRQUNmSixVQUFVUSxzQkFBWTtJQUN4QixPQUFPLElBQUlGLFNBQVM7UUFDbEJOLFVBQVVTLHlCQUFlO0lBQzNCO0lBRUEsSUFBSSxBQUFDVCxZQUFZUSxzQkFBWSxJQUN4QlIsWUFBWVMseUJBQWUsSUFDM0JULFlBQVlVLDRCQUFrQixFQUFHO1FBRXBDUCxLQUFLSCxTQUFTQyxVQUFVQztRQUV4QjtJQUNGO0lBRUEsTUFBTVMsZ0JBQWdCQyxJQUFBQSx3QkFBZTtJQUVyQyxJQUFJRCxrQkFBa0IsTUFBTTtRQUMxQlYsV0FBV1UsZUFBZSxHQUFHO0lBQy9CO0lBRUEsSUFBSVYsYUFBYSxNQUFNO1FBQ3JCLElBQUksQUFBQ0QsWUFBWWEseUJBQWUsSUFDM0JiLFlBQVljLDBCQUFnQixJQUM1QmQsWUFBWWUsNkJBQW1CLElBQy9CZixZQUFZZ0Isb0NBQTBCLEVBQUc7WUFFNUNmLFdBQVdELFNBQVMsR0FBRztZQUV2QkEsVUFBVWlCLHNCQUFZO1FBQ3hCO0lBQ0Y7SUFFQSxJQUFJakIsWUFBWSxNQUFNO1FBQ3BCQSxVQUFVaUIsc0JBQVk7SUFDeEI7SUFFQWQsS0FBS0gsU0FBU0MsVUFBVUM7QUFDMUIifQ==