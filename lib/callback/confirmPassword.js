'use strict';

var prompt = require('../prompt'),
    messages = require('../messages');

var passwordsDoNoMatchMessage = messages.passwordsDoNoMatchMessage;


function confirmPasswordCallback(next, done, context) {
  var password = context.password,
      description = 'Confirm password: ',
      errorMessage = passwordsDoNoMatchMessage,
      attempts = 3,
      hidden = true,
      options = {
    description: description,
    validationFunction: validationFunction,
    errorMessage: errorMessage,
    attempts: attempts,
    hidden: hidden
  };


  prompt(options, function (password) {
    var valid = password !== null;

    if (valid) {
      next();

      return;
    }

    done();
  });

  function validationFunction(value) {
    var valid = value === password; ///

    return valid;
  }
}

module.exports = confirmPasswordCallback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2VzNi9jYWxsYmFjay9jb25maXJtUGFzc3dvcmQuanMiXSwibmFtZXMiOlsicHJvbXB0IiwicmVxdWlyZSIsIm1lc3NhZ2VzIiwicGFzc3dvcmRzRG9Ob01hdGNoTWVzc2FnZSIsImNvbmZpcm1QYXNzd29yZENhbGxiYWNrIiwibmV4dCIsImRvbmUiLCJjb250ZXh0IiwicGFzc3dvcmQiLCJkZXNjcmlwdGlvbiIsImVycm9yTWVzc2FnZSIsImF0dGVtcHRzIiwiaGlkZGVuIiwib3B0aW9ucyIsInZhbGlkYXRpb25GdW5jdGlvbiIsInZhbGlkIiwidmFsdWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQSxJQUFNQSxTQUFTQyxRQUFRLFdBQVIsQ0FBZjtBQUFBLElBQ01DLFdBQVdELFFBQVEsYUFBUixDQURqQjs7SUFHUUUseUIsR0FBOEJELFEsQ0FBOUJDLHlCOzs7QUFFUixTQUFTQyx1QkFBVCxDQUFpQ0MsSUFBakMsRUFBdUNDLElBQXZDLEVBQTZDQyxPQUE3QyxFQUFzRDtBQUM5QyxNQUFFQyxRQUFGLEdBQWVELE9BQWYsQ0FBRUMsUUFBRjtBQUFBLE1BQ0FDLFdBREEsR0FDYyxvQkFEZDtBQUFBLE1BRUFDLFlBRkEsR0FFZVAseUJBRmY7QUFBQSxNQUdBUSxRQUhBLEdBR1csQ0FIWDtBQUFBLE1BSUFDLE1BSkEsR0FJUyxJQUpUO0FBQUEsTUFLQUMsT0FMQSxHQUtVO0FBQ1JKLGlCQUFhQSxXQURMO0FBRVJLLHdCQUFvQkEsa0JBRlo7QUFHUkosa0JBQWNBLFlBSE47QUFJUkMsY0FBVUEsUUFKRjtBQUtSQyxZQUFRQTtBQUxBLEdBTFY7OztBQWFOWixTQUFPYSxPQUFQLEVBQWdCLFVBQVNMLFFBQVQsRUFBbUI7QUFDakMsUUFBTU8sUUFBU1AsYUFBYSxJQUE1Qjs7QUFFQSxRQUFJTyxLQUFKLEVBQVc7QUFDVFY7O0FBRUE7QUFDRDs7QUFFREM7QUFDRCxHQVZEOztBQVlBLFdBQVNRLGtCQUFULENBQTRCRSxLQUE1QixFQUFtQztBQUNqQyxRQUFNRCxRQUFTQyxVQUFVUixRQUF6QixDQURpQyxDQUNHOztBQUVwQyxXQUFPTyxLQUFQO0FBQ0Q7QUFDRjs7QUFFREUsT0FBT0MsT0FBUCxHQUFpQmQsdUJBQWpCIiwiZmlsZSI6ImNvbmZpcm1QYXNzd29yZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcHJvbXB0ID0gcmVxdWlyZSgnLi4vcHJvbXB0JyksXG4gICAgICBtZXNzYWdlcyA9IHJlcXVpcmUoJy4uL21lc3NhZ2VzJyk7XG5cbmNvbnN0IHsgcGFzc3dvcmRzRG9Ob01hdGNoTWVzc2FnZSB9ID0gbWVzc2FnZXM7XG5cbmZ1bmN0aW9uIGNvbmZpcm1QYXNzd29yZENhbGxiYWNrKG5leHQsIGRvbmUsIGNvbnRleHQpIHtcbiAgY29uc3QgeyBwYXNzd29yZCB9ID0gY29udGV4dCxcbiAgICAgICAgZGVzY3JpcHRpb24gPSAnQ29uZmlybSBwYXNzd29yZDogJyxcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gcGFzc3dvcmRzRG9Ob01hdGNoTWVzc2FnZSxcbiAgICAgICAgYXR0ZW1wdHMgPSAzLFxuICAgICAgICBoaWRkZW4gPSB0cnVlLFxuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICAgICAgICB2YWxpZGF0aW9uRnVuY3Rpb246IHZhbGlkYXRpb25GdW5jdGlvbixcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICBhdHRlbXB0czogYXR0ZW1wdHMsXG4gICAgICAgICAgaGlkZGVuOiBoaWRkZW5cbiAgICAgICAgfTtcblxuICBwcm9tcHQob3B0aW9ucywgZnVuY3Rpb24ocGFzc3dvcmQpIHtcbiAgICBjb25zdCB2YWxpZCA9IChwYXNzd29yZCAhPT0gbnVsbCk7XG5cbiAgICBpZiAodmFsaWQpIHtcbiAgICAgIG5leHQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuO1xuICAgIH0gXG4gICAgXG4gICAgZG9uZSgpO1xuICB9KTtcblxuICBmdW5jdGlvbiB2YWxpZGF0aW9uRnVuY3Rpb24odmFsdWUpIHtcbiAgICBjb25zdCB2YWxpZCA9ICh2YWx1ZSA9PT0gcGFzc3dvcmQpOyAvLy9cblxuICAgIHJldHVybiB2YWxpZDtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbmZpcm1QYXNzd29yZENhbGxiYWNrO1xuIl19